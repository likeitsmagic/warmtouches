<!doctype html>
<html lang="en">
<head>
    <title>Feel it</title>
    <link rel="stylesheet" href="css/default.css">
    <link rel="stylesheet" href="css/touch.css">
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div>
        <a href="index.html"><img src="img/back.png" style="width: 50px; height: 50px; margin-top: 20px; float: left;"></a>
        <h1 style="color: black; text-align: center; font-size: 3pt;">Touch it</h1>
    </div>

    <h3 style="color: white; text-align: left; text-indent: 20px;">My soul-mate:</h3>
    <p style="text-indent: 20px; color: white;">
        <img src="./img/user.png" style="width: 50px; height: 50px;">You haven't added a partner :(<br>
    </p>

    <div id="app" style="height: 450px; border:1px solid white; border-radius:20px;"></div>

    <script src="./js/touch.js"></script>
    <script>
        const firebaseConfig = {
          apiKey: "AIzaSyDD0CegDU3N5BeKTxNtiIxzHU_KqwBb6V8",
          authDomain: "touches-110724.firebaseapp.com",
          databaseURL: "https://touches-110724-default-rtdb.europe-west1.firebasedatabase.app",
          projectId: "touches-110724",
          storageBucket: "touches-110724.firebasestorage.app",
          messagingSenderId: "190649940963",
          appId: "1:190649940963:web:d8e0f4f94820e18593bed6",
          measurementId: "G-8XTKL7L1WT"
        };

        const app = firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        function updateDateTime() {
            const now = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true };
            document.getElementById("datetime").innerHTML = now.toLocaleString('en-US', options);
        }

        setInterval(updateDateTime, 1000);
        updateDateTime();

        const params = new URLSearchParams(window.location.search);
        const startParam = params.get('startapp');
        const partnerId = params.get('partner_id');

        if (startParam === 'add_partner' && partnerId) {
            document.getElementById("partner-info").innerHTML = `You have added a partner with ID: ${partnerId}`;
            // Here you could also store this partner ID in Firestore or perform other actions as needed.
        }
    </script>
</body>
</html>
